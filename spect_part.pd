#N canvas 87 88 484 470 10;
#X obj 37 160 *~;
#X obj 37 53 inlet~;
#X obj 100 349 loadbang;
#X obj 37 283 rpole~ 1;
#X text 66 164 apply window;
#X text 95 285 sum vector;
#X obj 37 310 snapshot~;
#X obj 100 372 f \$2;
#X text 133 371 band index;
#X obj 98 205 t b b;
#X msg 75 229 clear;
#X obj 37 396 tabwrite \$1;
#X obj 96 53 inlet;
#X text 37 27 Apply triangular window;
#N canvas 112 125 433 489 make_tri_window 0;
#X obj 30 74 loadbang;
#X obj 31 183 until;
#X obj 31 100 t b b;
#X obj 61 210 + 1;
#X obj 31 210 f;
#X msg 73 183 0;
#X obj 31 246 t a a;
#X obj 31 310 moses;
#X obj 31 393 max 0;
#X obj 31 334 expr ($f1-$f3)/($f2-$f3);
#X text 221 364 lower slope;
#X text 186 333 upper slope;
#X obj 61 362 expr ($f3-$f1)/($f3-$f2);
#X obj 31 159 f \$3;
#X text 28 15 Make triangular window;
#X text 29 32 http://haythamfayek.com/2016/04/21/speech-processing-for-machine-learning.html
;
#X obj 31 440 tabwrite \$0-tri;
#X obj 223 249 route 0 -1 1;
#X obj 223 226 pack 0 0;
#X obj 223 155 t a a;
#X obj 250 180 + \$2;
#X msg 223 134 0 \, -1 \, 1;
#X text 281 181 band index;
#X text 22 139 iterate thru FFT bands;
#X obj 207 83 scl2bin \$3 \$4 \$5 \$6 \$7;
#N canvas 503 341 722 327 scl2bin 0;
#X obj 55 73 inlet;
#X obj 55 277 outlet;
#X text 53 31 convert scale unit (MIDI note) to FFT bins;
#X obj 135 104 samplerate~;
#X obj 55 104 t a b;
#X obj 55 248 /;
#X text 164 246 Hz per bin;
#X obj 411 71 loadbang;
#X obj 411 98 t b b;
#X obj 412 190 -;
#X obj 55 178 +;
#X obj 55 148 *;
#X text 451 216 scale units per band;
#X text 541 43 \$4 scale type (log \, mel);
#X obj 411 150 hz-\$4;
#X obj 452 151 hz-\$4;
#X obj 55 212 \$4-hz;
#X text 542 75 \$5 fmin;
#X obj 452 125 f \$5;
#X obj 135 246 / \$3;
#X text 542 89 \$6 fmax;
#X text 542 103 \$7 bands;
#X obj 411 124 f \$6;
#X obj 414 215 / \$7;
#X text 542 28 \$3 FFT length;
#X connect 0 0 4 0;
#X connect 3 0 19 0;
#X connect 4 0 11 0;
#X connect 4 1 3 0;
#X connect 5 0 1 0;
#X connect 7 0 8 0;
#X connect 8 0 22 0;
#X connect 8 1 18 0;
#X connect 9 0 23 0;
#X connect 10 0 16 0;
#X connect 11 0 10 0;
#X connect 14 0 9 0;
#X connect 15 0 9 1;
#X connect 15 0 10 1;
#X connect 16 0 5 0;
#X connect 18 0 15 0;
#X connect 19 0 5 1;
#X connect 22 0 14 0;
#X connect 23 0 11 1;
#X restore 250 201 pd scl2bin;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 2 0 13 0;
#X connect 2 1 5 0;
#X connect 2 1 21 0;
#X connect 3 0 4 1;
#X connect 4 0 3 0;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 6 1 16 1;
#X connect 7 0 9 0;
#X connect 7 1 12 0;
#X connect 8 0 16 0;
#X connect 9 0 8 0;
#X connect 12 0 8 0;
#X connect 13 0 1 0;
#X connect 17 0 12 1;
#X connect 17 0 9 1;
#X connect 17 0 7 1;
#X connect 17 1 9 2;
#X connect 17 2 12 2;
#X connect 18 0 17 0;
#X connect 19 0 18 0;
#X connect 19 1 20 0;
#X connect 20 0 25 0;
#X connect 21 0 19 0;
#X connect 25 0 18 1;
#X restore 211 214 pd make_tri_window;
#X text 99 313 get accumulated value;
#X obj 59 132 tabreceive~ \$0-tri;
#X text 223 50 \$1 result table;
#X text 223 67 \$2 band index;
#X text 223 84 \$3 fft length;
#X text 223 101 \$4 scale type (log \, mel);
#X text 223 135 \$6 fmax;
#X text 223 118 \$5 fmin;
#X text 223 152 \$7 bands;
#X obj 60 104 table \$0-tri \$3;
#X connect 0 0 3 0;
#X connect 1 0 0 0;
#X connect 2 0 7 0;
#X connect 3 0 6 0;
#X connect 6 0 11 0;
#X connect 7 0 11 1;
#X connect 9 0 10 0;
#X connect 9 1 6 0;
#X connect 10 0 3 0;
#X connect 12 0 9 0;
#X connect 16 0 0 1;
